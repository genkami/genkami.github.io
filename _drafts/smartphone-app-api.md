---
layout: post
title: モバイルアプリのAPI設計とか認証周りとか
tags:
- HTTP
- iOS
- Android
---

今まで個人で小規模なWebサービスは作ってた

SPAでクライアントがサーバーのAPI叩いてJSONやりとりみたいなのはやったことある

スマホアプリのAPIサーバーはやったことない

以下の点でSPAとは違いそう

+ クライアントサイドのバージョンを強制的に統一することができない。従って、将来的に複数のバージョンのAPIに対応し続けなければならない可能性がある。バージョニングの方法を間違えると、後で辛い目に合いそう
+ 認証周りとか。少なくともCookie渡して認証したりcsrfトークンがどうのこうの…みたいな感じではなさそう
+ OAuthとかで他サービスと連携するとき、どこまでをクライアントがやってどこからをサーバーがやるべき？

+ http://kenn.hatenablog.com/entry/2014/03/06/105249

ヘッダで渡すのが今回の目的にあっていそう。あと、バージョン間の違いによる分岐はどの部分で発生するか予想がつきにくいので、バージョン情報の受け渡し方を慎重に考えないといけない。

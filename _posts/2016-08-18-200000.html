---
layout: post
title: Gaucheで手続き以外のオブジェクトも呼び出し可能にする
tags:
- Gauche

---
{% raw %}
<p>object-applyというメソッドを定義すると、手続き以外の任意のデータ型をあたかも関数であるかのように呼び出すことができます。</p>
<pre class="code lang-scheme" data-lang="scheme" data-unlink><span class="synComment">;; (数 数)を(* 数 数)にする</span>
<span class="synSpecial">(</span>define-method object-apply <span class="synSpecial">((</span>x <span class="synConstant">&lt;number&gt;</span><span class="synSpecial">)</span> <span class="synSpecial">(</span>y <span class="synConstant">&lt;number&gt;</span><span class="synSpecial">))</span>
  <span class="synSpecial">(</span><span class="synIdentifier">*</span> x y<span class="synSpecial">))</span>

<span class="synSpecial">(</span><span class="synStatement">define</span> x <span class="synConstant">5</span><span class="synSpecial">)</span>
<span class="synSpecial">(</span><span class="synConstant">3</span> x<span class="synSpecial">)</span> <span class="synComment">; =&gt; 15</span>
</pre><p>以前説明したパラメータも、値の取得にこのobject-applyを利用しています。</p>


{% endraw %}

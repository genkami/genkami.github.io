---
layout: post
title: Coqのsplit, left, rightについてもう少し詳しく
tags:
- Coq

---
{% raw %}
<p><iframe src="http://inkar-us-i.hatenablog.com/embed/2016/11/16/043953" title="Coqで「…かつ…」、「…または…」を扱う - きくらげ観察日記" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="/2016/11/16/043953.html">inkar-us-i.hatenablog.com</a></cite></p><p>上の記事でandを証明するためにsplit, orを証明するためにleft, rightを使えばいいと書きましたが、実はこれらのタクティックはもう少し一般的に作られています。</p>

<div class="section">
    <h3>split</h3>
    <p>splitはandのみではなく、コンストラクタがC : X1 -> X2 -> .. -> Xn -> Pという形の任意のゴールPに対して扱うことができ、X1, X2, .., Xnの証明を与えることでPを証明してくれます。</p>
<pre class="code" data-lang="" data-unlink>Inductive and3 (A B C : Prop) : Prop :=
  conj3 : A -&gt; B -&gt; C -&gt; and3 A B C.

Goal forall P Q R : Prop,
       P -&gt; Q -&gt; R -&gt; and3 P Q R.
Proof.
  intros P Q R HP HQ HR.
  split. (* ここでサブゴールが P Q R の３つに分かれる *)
  - apply HP.
  - apply HQ.
  - apply HR.
Qed.</pre>
</div>
<div class="section">
    <h3>left, right</h3>
    <p>left, rightはorのみではなく、2つのコンストラクタC : X1 -> X2 -> .. -> Xn -> PとD : Y1 -> Y2 -> .. -> Ym -> Pからなる任意のゴールPに対して扱うことができ、leftの場合は1つめのコンストラクタ、rightの場合は2つめのコンストラクタのすべての引数について証明を行うことで、ゴールPを証明できます。</p>
<pre class="code" data-lang="" data-unlink>(* (A and B) or (C and D) *)
Inductive and_or (A B C D : Prop) : Prop :=
| and_or_introl : A -&gt; B -&gt; and_or A B C D
| and_or_intror : C -&gt; D -&gt; and_or A B C D.

Goal forall A B C D : Prop,
       C -&gt; D -&gt; and_or A B C D.
Proof.
  intros A B C D HC HD.
  right. (* ここで C D の証明に移る *)
  - apply HC.
  - apply HD.
Qed.</pre>
</div>

{% endraw %}
